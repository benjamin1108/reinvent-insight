<div class="create-view max-w-4xl mx-auto p-6 fade-in mobile-container">
  <!-- Input Card -->
  <div class="input-card tech-gradient border border-gray-700 rounded-xl p-8 shadow-2xl mb-8 glow-effect mobile-input-card">
    <div class="text-center mb-6">
      <h2 class="text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-amber-600 to-orange-700 mb-2">
        reInvent Insights
      </h2>
      <p class="text-gray-400">输入 YouTube 链接，获得深度解读</p>
    </div>

    <div class="space-y-4">
      <div>
        <input 
          v-model="url" 
          @keyup.enter="handleStartAnalysis" 
          :disabled="loading" 
          type="url"
          placeholder="https://www.youtube.com/watch?v=..."
          class="w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent disabled:opacity-50 transition-all" />
      </div>

      <tech-button 
        variant="primary" 
        size="lg"
        full-width
        :disabled="!url || !isValidUrl"
        :loading="loading"
        loading-text="AI 分析中..."
        icon-before="M13 10V3L4 14h7v7l9-11h-7z"
        @click="handleStartAnalysis">
        开始分析
      </tech-button>
    </div>
  </div>

  <!-- Progress & Logs -->
  <div v-if="loading || logs.length"
    class="progress-section bg-gray-900/50 border border-gray-700 rounded-xl p-6 shadow-xl mb-8 backdrop-blur-sm mobile-progress">
    <!-- 进度条组件将在这里使用 -->
    <div v-if="showProgressBar" class="w-full mb-4">
      <progress-bar 
        :percent="progressPercent" 
        :show-text="true"
        :striped="true"
        :animated="loading">
      </progress-bar>
    </div>
    
    <h3 class="text-xl font-semibold mb-4 text-cyan-400 flex items-center">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
      </svg>
      处理进度
    </h3>
    <div class="space-y-2">
      <div v-for="(log, index) in finalizedLogs" :key="index" class="flex items-center text-sm slide-in">
        <div :class="['w-2 h-2 rounded-full mr-3 flex-shrink-0', log.includes('错误') ? 'bg-red-500' : 'bg-green-500']"></div>
        <span class="text-gray-300">{{ log }}</span>
      </div>
      <div v-if="loading && logs.length > 0" class="flex items-center text-sm text-gray-400">
        <div class="w-2 h-2 bg-cyan-500 rounded-full mr-3 animate-pulse flex-shrink-0"></div>
        <span>{{ logs[logs.length - 1] }}</span>
      </div>
    </div>
  </div>

  <!-- Result -->
  <div v-if="summary" class="result-section fade-in">
    <div class="bg-gray-900/30 border border-gray-700 rounded-xl p-8 shadow-2xl backdrop-blur-sm">
      <div class="flex items-center justify-between mb-6 gap-4">
        <h2 class="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 min-w-0 break-words">
          {{ title }}
        </h2>
        <tech-button 
          variant="warning"
          @click="handleViewSummary">
          全屏阅读
        </tech-button>
      </div>
      <div v-html="rendered" class="prose-tech"></div>
    </div>
  </div>
</div> 