<div class="trash-view">
  <!-- 页面头部 -->
  <div class="trash-view__header">
    <div class="trash-view__title">
      <svg class="trash-view__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="3 6 5 6 21 6"></polyline>
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        <line x1="10" y1="11" x2="10" y2="17"></line>
        <line x1="14" y1="11" x2="14" y2="17"></line>
      </svg>
      <h1>回收站</h1>
    </div>
    
    <div class="trash-view__meta" v-if="!isEmpty">
      <span class="trash-view__count">{{ items.length }} 篇文章</span>
      <span class="trash-view__size">{{ formattedTotalSize }}</span>
    </div>
    
    <button 
      class="trash-view__empty-btn"
      v-if="!isEmpty && !confirmEmptyAll"
      @click="showEmptyConfirm"
    >
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14z"></path>
      </svg>
      清空回收站
    </button>
    
    <!-- 清空确认 -->
    <div class="trash-view__confirm" v-if="confirmEmptyAll">
      <span class="trash-view__confirm-text">确定要永久删除所有文章吗？此操作不可恢复！</span>
      <button class="trash-view__confirm-btn trash-view__confirm-btn--danger" @click="handleEmpty">
        确定清空
      </button>
      <button class="trash-view__confirm-btn trash-view__confirm-btn--cancel" @click="cancelEmpty">
        取消
      </button>
    </div>
  </div>
  
  <!-- 加载状态 -->
  <div class="trash-view__loading" v-if="loading">
    <div class="trash-view__spinner"></div>
    <span>正在加载...</span>
  </div>
  
  <!-- 空状态 -->
  <div class="trash-view__empty" v-else-if="isEmpty">
    <svg class="trash-view__empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
      <polyline points="3 6 5 6 21 6"></polyline>
      <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
    </svg>
    <p class="trash-view__empty-text">回收站是空的</p>
    <p class="trash-view__empty-hint">删除的文章会在这里显示</p>
  </div>
  
  <!-- 文章列表 -->
  <div class="trash-view__list" v-else>
    <div 
      class="trash-view__item"
      v-for="item in items"
      :key="item.doc_hash"
    >
      <div class="trash-view__item-content">
        <h3 class="trash-view__item-title">{{ item.title_cn || item.title_en || '未命名文章' }}</h3>
        <p class="trash-view__item-title-en" v-if="item.title_en && item.title_cn">{{ item.title_en }}</p>
        <div class="trash-view__item-meta">
          <span class="trash-view__item-date">删除于 {{ formatDate(item.deleted_at) }}</span>
          <span class="trash-view__item-size">{{ formatSize(item.size) }}</span>
        </div>
      </div>
      
      <div class="trash-view__item-actions" v-if="confirmDeleteHash !== item.doc_hash">
        <button 
          class="trash-view__item-btn trash-view__item-btn--restore"
          @click="handleRestore(item)"
          title="恢复文章"
        >
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
            <path d="M21 3v5h-5"></path>
            <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
            <path d="M8 16H3v5"></path>
          </svg>
          恢复
        </button>
        <button 
          class="trash-view__item-btn trash-view__item-btn--delete"
          @click="showDeleteConfirm(item.doc_hash)"
          title="永久删除"
        >
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
          永久删除
        </button>
      </div>
      
      <!-- 删除确认 -->
      <div class="trash-view__item-confirm" v-else>
        <span class="trash-view__item-confirm-text">确定永久删除？</span>
        <button class="trash-view__item-btn trash-view__item-btn--confirm-delete" @click="handleDelete(item)">
          确定
        </button>
        <button class="trash-view__item-btn trash-view__item-btn--cancel" @click="cancelDelete">
          取消
        </button>
      </div>
    </div>
  </div>
  
  <!-- 提示信息 -->
  <div class="trash-view__footer" v-if="!isEmpty && !loading">
    <p>提示：回收站中的文章可以随时恢复，永久删除后将无法找回。</p>
  </div>
</div>
