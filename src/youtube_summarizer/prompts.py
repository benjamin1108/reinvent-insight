# -*- coding: utf-8 -*-

# 基础角色和通用指令，将从 youtbe-deep-summary.txt 加载
BASE_PROMPT_TEMPLATE = ""

# 步骤一：生成大纲和标题的提示词模板
OUTLINE_PROMPT_TEMPLATE = """
{base_prompt}

## 输入素材
- 完整英文字幕: 
{full_transcript}

---
## **【核心指令】**
你的**唯一任务**是根据上方提供的完整字幕，生成这份深度笔记的 **标题**、**引言** 和 **大纲索引 (TOC)**。

## 输出要求
1.  **标题**：直接输出标题正文，不要出现"标题"字眼。标题应高度概括视频核心内容。
2.  **引言**：概述视频的背景、主讲人、核心主题与价值。引言需要能够激发读者的阅读兴趣，并准确反映报告的整体内容。
3.  **大纲索引**：用 TOC 列出 10-20 个主要章节，确保每个章节标题都言之有物，能反映该部分的核心议题。
4.  **格式**：请严格按照以下 Markdown 格式输出，不要添加任何额外的解释、引言或章节内容。
5.  **纯文本要求**：每个章节标题都必须是纯文本，**严禁**包含任何 Markdown 链接格式或方括号 `[]()`。

## 输出格式示例
# [这里是生成的标题]

### 引言
[这里是引言内容]

### 主要目录
1. [第一章标题]
2. [第二章标题]
3. [第三章标题]
... (直到所有章节)

---
**请严格遵守上述指令，只输出标题、引言和大纲索引。**
"""

# 步骤二：生成单个章节内容的提示词模板
CHAPTER_PROMPT_TEMPLATE = """
{base_prompt}

## 全局上下文
- **完整字幕**: {full_transcript}
- **完整大纲**: 
{full_outline}

---
## **【核心指令】**
你的任务是为上述 **完整大纲** 中的**特定一章**撰写详细内容。

- **当前需要你撰写的章节是**：第 `{chapter_number}` 章 - `{current_chapter_title}`

请基于**完整字幕**提供的上下文，并理解当前章节在**完整大纲**中的位置，为其撰写深入、详尽的内容。

## 风格与一致性要求
- **风格统一**: 你的写作风格、专业口吻和分析深度，必须与报告的其他部分保持高度一致。请把自己想象成正在撰写一部完整作品，而不是孤立的片段。
- **参考上下文**: 在动笔前，请再次审视上方提供的**完整大纲**，这有助于你理解当前章节的承上启下的作用。
- **术语一致**: 确保本章使用的所有专业术语，都与**完整字幕**和**基础提示词**中定义的标准保持一致。

## 章节内容结构要求
请严格遵循以下结构来组织内容，但不要机械地使用"章节摘要"、"关键论点"等字眼作为标题，应根据具体内容灵活命名：

1.  **章节摘要**：对该章节的核心内容进行全面、详细的概括。
2.  **关键论点/数据/案例**：精确引用视频中与本章相关的关键论点、数据和实例。
3.  **深入解读**：分析这部分内容为什么重要，它与现有认知有何不同，或带来了哪些补充。

## 输出要求
- **只输出** 你当前负责的第 `{chapter_number}` 章 **'{current_chapter_title}'** 的完整内容。
- **格式至关重要**：输出必须以 `### {chapter_number}. {current_chapter_title}` (Markdown H3 标题) 开头。这是确保最终报告结构正确的关键。
- 不需要包含引言、总结、其他章节或任何无关的文字。

---
**请开始撰写第 `{chapter_number}` 章 - `{current_chapter_title}` 的内容。**
"""

# 步骤三：生成引言、洞见与金句的提示词模板
CONCLUSION_PROMPT_TEMPLATE = """
{base_prompt}

## 全局上下文
- **完整字幕**: {full_transcript}
- **已生成的全部正文内容**: 
{all_generated_chapters}

---
## **【核心指令】**
你已经完成了报告所有正文章节的撰写。现在，你的任务是基于 **完整字幕** 和 **已生成的全部正文内容**，为整份报告撰写收尾部分。

## 具体任务
请生成以下两个部分：

1.  **洞见延伸**：结合行业趋势或学术前沿，给出不多于 10 条具有可操作性的启示。
2.  **金句&原声引用**：从字幕中挑选不多于 10 条有代表性的英文原句，并附上精准的中文翻译。

## 输出要求
- 输出"洞见延伸"、"金句&原声引用",要结合已生成的全部正文内容中所提到的内容，不要输出一个原字幕中有的但是再正文内容中没有提到的内容。
- 请严格按照"洞见延伸"、"金句&原声引用"的顺序和对应 Markdown 格式输出。
- 不要输出标题、大纲或任何正文内容。

---
**请开始生成洞见延伸和金句。**
""" 