# Reinvent Insight - YouTubeè§†é¢‘æ·±åº¦åˆ†æå¹³å°

<div align="center">

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.111.0+-green.svg)](https://fastapi.tiangolo.com/)
[![Vue.js](https://img.shields.io/badge/Vue.js-3.0+-brightgreen.svg)](https://vuejs.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![GitHub](https://img.shields.io/badge/GitHub-benjamin1108%2Freinvent--insight-blue.svg)](https://github.com/benjamin1108/reinvent-insight)

**ğŸš€ åŸºäº AI çš„ YouTube è§†é¢‘æ·±åº¦åˆ†æå¹³å°**

å°†é•¿ç¯‡æŠ€æœ¯æ¼”è®²è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ·±åº¦ç¬”è®°ï¼Œè®©çŸ¥è¯†è·å–æ•ˆç‡æå‡ 10 å€

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æ¶æ„è®¾è®¡](#-æ¶æ„è®¾è®¡) â€¢ [APIæ–‡æ¡£](#-api-æ–‡æ¡£) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—) â€¢ [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)

</div>

---

## ğŸ“– ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [APIæ–‡æ¡£](#-api-æ–‡æ¡£)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [éƒ¨ç½²è¯´æ˜](#-éƒ¨ç½²è¯´æ˜)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

## é¡¹ç›®ç®€ä»‹

**Reinvent Insight** æ˜¯ä¸€ä¸ªåˆ›æ–°çš„ AI é©±åŠ¨å¹³å°ï¼Œä¸“é—¨ç”¨äºåˆ†æ YouTube æŠ€æœ¯è§†é¢‘ï¼ˆç‰¹åˆ«æ˜¯ AWS re:Invent æ¼”è®²ï¼‰å’Œå¤šç§æ ¼å¼çš„æ–‡æ¡£ï¼Œå¹¶ç”Ÿæˆå¯æ›¿ä»£è§‚çœ‹/é˜…è¯»çš„æ·±åº¦ç¬”è®°ã€‚é€šè¿‡å…ˆè¿›çš„è¯­è¨€æ¨¡å‹å’Œç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯å·¥ç¨‹ï¼Œå¹³å°èƒ½å¤Ÿï¼š

- ğŸ¯ **æ™ºèƒ½æå–**ï¼šè‡ªåŠ¨ä¸‹è½½å­—å¹•å¹¶æ¸…æ´—ä¼˜åŒ–ï¼Œå‡å°‘ 80%+ å†—ä½™ä¿¡æ¯
- ğŸ§  **æ·±åº¦åˆ†æ**ï¼šä½¿ç”¨ Gemini 2.5 Pro ç”Ÿæˆç»“æ„åŒ–çš„é•¿æ–‡ç¬”è®°
- ğŸ“„ **å¤šæ ¼å¼æ”¯æŒ**ï¼šæ”¯æŒ TXTã€MDã€PDFã€DOCX ç­‰å¤šç§æ–‡æ¡£æ ¼å¼çš„æ·±åº¦åˆ†æ
- ğŸ“Š **å¹¶è¡Œå¤„ç†**ï¼šå¼‚æ­¥æ¶æ„æ”¯æŒæ‰¹é‡è§†é¢‘/æ–‡æ¡£åˆ†æå’Œå®æ—¶è¿›åº¦åé¦ˆ
- ğŸ¨ **Visual Insight**ï¼šç”Ÿæˆé«˜è´¨é‡çš„é•¿å›¾æŠ¥å‘Šå’Œå…³é”®å¸§æˆªå›¾ï¼Œä¾¿äºç¤¾äº¤åˆ†äº«

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ™ºèƒ½åˆ†æèƒ½åŠ›
- **å¤šå±‚æ¬¡å†…å®¹ç”Ÿæˆ**ï¼šæ ‡é¢˜ â†’ å¤§çº² â†’ ç« èŠ‚å†…å®¹ â†’ æ´è§æ€»ç»“ â†’ é‡‘å¥æç‚¼
- **v2 Prompt å¼•æ“**ï¼šå…¨æ–°é‡æ„çš„æç¤ºè¯ç³»ç»Ÿï¼Œæ”¯æŒæ›´ç²¾å‡†çš„ä¸Šä¸‹æ–‡æ§åˆ¶å’Œé£æ ¼å®šåˆ¶
- **Token ä¼˜åŒ–ç®—æ³•**ï¼šæ™ºèƒ½æ¸…æ´—å­—å¹•ï¼Œå¤§å¹…é™ä½ API è°ƒç”¨æˆæœ¬
- **å¹¶è¡Œç« èŠ‚ç”Ÿæˆ**ï¼š10-20 ä¸ªç« èŠ‚åŒæ—¶ç”Ÿæˆï¼Œæ•ˆç‡æå‡ 5-10 å€
- **å¤šæ¨¡æ€æ–‡æ¡£æ”¯æŒ**ï¼š
  - **æ–‡æœ¬æ–‡æ¡£**ï¼šTXTã€Markdownï¼ˆæ–‡æœ¬æ³¨å…¥æ–¹å¼ï¼‰
  - **å¤šæ¨¡æ€æ–‡æ¡£**ï¼šPDFã€DOCXï¼ˆåˆ©ç”¨ Gemini å¤šæ¨¡æ€èƒ½åŠ›åˆ†æå›¾è¡¨ã€æ¶æ„å›¾ç­‰ï¼‰
  - **ç½‘é¡µè½¬æ¢**ï¼šå†…ç½® HTML è½¬ Markdown å¼•æ“ï¼Œæ”¯æŒæ™ºèƒ½æå–æ­£æ–‡å’Œæ¸…æ´—å¹²æ‰°ä¿¡æ¯

### ğŸ–¼ Visual Insight (å¯è§†åŒ–å¢å¼º)
- **é•¿å›¾æŠ¥å‘Šç”Ÿæˆ**ï¼š
  - åŸºäº Playwright çš„é«˜æ€§èƒ½æ¸²æŸ“å¼•æ“
  - æ™ºèƒ½è§†å£é€‚é…ï¼ˆæ”¯æŒ 2x/3x é«˜æ¸…ç¼©æ”¾ï¼‰
  - GPU åŠ é€Ÿæ¸²æŸ“ï¼Œè§£å†³é•¿é¡µé¢è‰²å—é—®é¢˜
  - è‡ªåŠ¨åŠ¨ç”»è§¦å‘ï¼Œç¡®ä¿æ‰€æœ‰åŠ¨æ€å…ƒç´ æ­£ç¡®æ•è·
- **å…³é”®å¸§æ™ºèƒ½æˆªå›¾**ï¼š
  - è‡ªåŠ¨è¯†åˆ«è§†é¢‘å…³é”®èŠ‚ç‚¹
  - ç”Ÿæˆ 1080p/4K é«˜æ¸…æˆªå›¾
  - è‡ªåŠ¨æ•´åˆè¿›åˆ†ææŠ¥å‘Š

### ğŸš€ å¤šç«¯äº¤äº’ä½“éªŒ
- **CLI å·¥å…·**ï¼šæ”¯æŒäº¤äº’å¼èœå•ã€æ‰¹é‡å¤„ç†ã€å‘½ä»¤è¡Œå‚æ•°
- **Web ç•Œé¢**ï¼šVue.js 3 æ„å»ºçš„ç°ä»£åŒ– SPAï¼Œå“åº”å¼è®¾è®¡
- **API æœåŠ¡**ï¼šRESTful API + WebSocket å®æ—¶é€šä¿¡
- **åˆ†äº«ç³»ç»Ÿ**ï¼šçŸ­é“¾æ¥ç”Ÿæˆï¼Œæ— éœ€ç™»å½•å³å¯æŸ¥çœ‹åˆ†äº«å†…å®¹

### ğŸ”§ ä¼ä¸šçº§ç‰¹æ€§
- **å¼‚æ­¥ä»»åŠ¡æ¶æ„**ï¼šåŸºäº asyncio çš„é«˜æ€§èƒ½ä»»åŠ¡å¤„ç†
- **å®æ—¶è¿›åº¦æ¨é€**ï¼šWebSocket åŒå‘é€šä¿¡ï¼Œæ¯«ç§’çº§çŠ¶æ€æ›´æ–°
- **æ¨¡å‹å¯è§‚æµ‹æ€§**ï¼šè¯¦ç»†è®°å½• AI äº¤äº’æ—¥å¿—ï¼ˆPrompt/Responseï¼‰ï¼Œæ”¯æŒæ•æ„Ÿä¿¡æ¯è„±æ•
- **é”™è¯¯æ¢å¤æœºåˆ¶**ï¼šæ™ºèƒ½é‡è¯•ã€æ–­ç‚¹ç»­ä¼ ã€ä¼˜é›…é™çº§

### ğŸ’ å‰ç«¯ä½“éªŒä¸æ¶æ„
- **æ¨¡å—åŒ–ç»„ä»¶ç³»ç»Ÿ**: é‡‡ç”¨è‡ªå®šä¹‰çš„ã€å…æ„å»ºçš„Vue 3ç»„ä»¶åŒ–æ–¹æ¡ˆï¼Œå®ç°äº†UIçš„å¿«é€Ÿå¼€å‘ä¸ç»´æŠ¤ã€‚
- **åŠ¨æ€å¼‚æ­¥åŠ è½½**: ç»„ä»¶çš„HTML, CSS, JSè¢«å¼‚æ­¥åŠ è½½ï¼Œæ˜¾è‘—æå‡äº†é¦–å±æ€§èƒ½ã€‚
- **HTMLè½¬SVGä¼˜åŒ–**: å‰ç«¯æ”¯æŒå°†å¤æ‚çš„ HTML æŠ¥è¡¨è½¬æ¢ä¸º SVG/Canvasï¼Œæå‡é•¿å›¾ç”Ÿæˆæ€§èƒ½ã€‚

## ğŸ— ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
graph TB
    subgraph "å‰ç«¯å±‚"
        A[Vue.js SPA] --> B[WebSocket Client]
        A --> C[Axios HTTP Client]
    end

    subgraph "APIå±‚"
        D[FastAPI Server] --> E[REST Endpoints]
        D --> F[WebSocket Handler]
        D --> G[Static File Server]
    end

    subgraph "ä¸šåŠ¡é€»è¾‘å±‚"
        H[Task Manager] --> I[Async Worker]
        I --> J[Media Processor]
        I --> K[AI Workflow Engine]
    end

    subgraph "AIå¤„ç†å±‚ (v2 Prompts)"
        K --> L[Outline Generator]
        K --> M[Chapter Generator]
        K --> N[Conclusion Generator]
        K --> O[Report Assembler]
    end

    subgraph "å¤–éƒ¨æœåŠ¡"
        J --> P[YouTube/yt-dlp]
        J --> Playwright[Playwright (Screenshots)]
        L --> Q[Gemini API]
        M --> Q
        N --> Q
    end

    subgraph "å­˜å‚¨å±‚"
        O --> R[File System]
        R --> S[Subtitles]
        R --> T[Summaries]
        R --> U[Tasks Cache]
    end

    B -.-> F
    C --> E
    E --> H
    F --> H
```

### æ ¸å¿ƒå·¥ä½œæµ

```
sequenceDiagram
    participant U as ç”¨æˆ·
    participant W as Webç•Œé¢
    participant A as APIæœåŠ¡
    participant T as TaskManager
    participant AI as AI Workflow
    participant SS as Screenshot Gen

    U->>W: è¾“å…¥YouTubeé“¾æ¥
    W->>A: POST /summarize
    A->>T: åˆ›å»ºä»»åŠ¡
    T-->>W: è¿”å› task_id

    T->>AI: å¯åŠ¨AIå·¥ä½œæµ
    AI->>AI: åŠ è½½ v2 Prompts

    par å¹¶è¡Œå¤„ç†
        AI->>AI: ç”Ÿæˆå¤§çº²
    and
        AI->>AI: å¹¶è¡Œç”Ÿæˆç« èŠ‚
    end

    AI-->>T: æŠ¥å‘Šç”Ÿæˆå®Œæˆ

    opt å¯è§†åŒ–ç”Ÿæˆ
        T->>SS: ç”Ÿæˆé•¿å›¾æŠ¥å‘Š (Playwright)
        SS->>SS: æ¸²æŸ“ HTML -> PNG
        SS-->>T: å›¾ç‰‡è·¯å¾„
    end

    T-->>W: æ¨é€æœ€ç»ˆç»“æœ
    W-->>U: æ˜¾ç¤ºå®Œæ•´ç¬”è®° + é•¿å›¾
```

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Python | 3.9+ | ä¸»è¦å¼€å‘è¯­è¨€ |
| FastAPI | 0.111.0+ | é«˜æ€§èƒ½ Web æ¡†æ¶ |
| Playwright | 1.40.0+ | æ— å¤´æµè§ˆå™¨/æˆªå›¾å¼•æ“ |
| Google Generative AI | 0.8.3+ | Gemini API å®¢æˆ·ç«¯ |
| yt-dlp | latest | YouTube å­—å¹•ä¸‹è½½ |
| BeautifulSoup4 | 4.12+ | HTML è§£æä¸æ¸…æ´— |

### å‰ç«¯æŠ€æœ¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue.js | 3.0+ | å‰ç«¯æ¡†æ¶ |
| Axios | latest | HTTP å®¢æˆ·ç«¯ |
| WebSocket | - | å®æ—¶é€šä¿¡ |
| marked.js | latest | Markdown æ¸²æŸ“ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬
- Git
- ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼ˆç”¨äºè®¿é—® YouTube å’Œ AI APIï¼‰

### 2. å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/benjamin1108/reinvent-insight.git
cd reinvent-insight

# 2. åˆ›å»ºå¹¶æ¿€æ´»Pythonè™šæ‹Ÿç¯å¢ƒ
python3 -m venv .venv           # åˆ›å»º .venv ç›®å½•
source .venv/bin/activate       # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Linux/macOS)
# .\.venv\Scripts\activate      # Windows

# 3. å®‰è£…é¡¹ç›®ä¾èµ–
pip install --upgrade pip       # å‡çº§pip
pip install -e .                # å®‰è£…é¡¹ç›®å’Œæ‰€æœ‰ä¾èµ–

# 4. å®‰è£… Playwright æµè§ˆå™¨ï¼ˆç”¨äºæˆªå›¾åŠŸèƒ½ï¼‰
playwright install chromium
```

### 3. é…ç½®è®¾ç½®

```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶
cp .env.example .env
nano .env
```

**æ¨èé…ç½®é¡¹ï¼š**

```ini
# AI APIå¯†é’¥
GEMINI_API_KEY="your-gemini-api-key"

# Webç•Œé¢è®¤è¯
ADMIN_USERNAME="admin"
ADMIN_PASSWORD="your-secure-password"

# å¯è§†åŒ–é…ç½®
VISUAL_LONG_IMAGE_ENABLED=true
VISUAL_SCREENSHOT_VIEWPORT_WIDTH=1080
VISUAL_SCREENSHOT_WAIT_TIME=3

# æ¨¡å‹å¯è§‚æµ‹æ€§ (è°ƒè¯•ç”¨)
MODEL_OBSERVABILITY_ENABLED=true
MODEL_OBSERVABILITY_LOG_LEVEL=DETAILED
```

### 4. å¿«é€Ÿä½“éªŒ

```bash
# å¯åŠ¨ Web æœåŠ¡ (å¼€å‘æ¨¡å¼)
./run-dev.sh

# æˆ–è€…æ‰‹åŠ¨å¯åŠ¨
python -m src.reinvent_insight.main web
```

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

é¡¹ç›®é‡‡ç”¨ **åˆ†å±‚æ¶æ„** è®¾è®¡ï¼Œéµå¾ªå…³æ³¨ç‚¹åˆ†ç¦»åŸåˆ™ï¼š

```
reinvent-insight/
â”œâ”€â”€ src/reinvent_insight/           # æ ¸å¿ƒåç«¯ä»£ç  (Python)
â”‚   â”œâ”€â”€ main.py                     # CLI å…¥å£ä¸ä¸»ç¨‹åº
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                        # API å±‚ - HTTP æ¥å£ä¸è·¯ç”±
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                       # æ ¸å¿ƒå±‚ - é…ç½®ä¸åŸºç¡€è®¾æ–½
â”‚   â”‚
â”‚   â”œâ”€â”€ domain/                     # é¢†åŸŸå±‚ - ä¸šåŠ¡é€»è¾‘æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ models/                 # é¢†åŸŸæ¨¡å‹
â”‚   â”‚   â””â”€â”€ prompts/                # AIæç¤ºè¯æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ v2/                 # [NEW] v2ç‰ˆæç¤ºè¯å¼•æ“
â”‚   â”‚       â”‚   â”œâ”€â”€ _base.py        # åŸºç¡€æç¤ºè¯ç±»
â”‚   â”‚       â”‚   â”œâ”€â”€ outline.py      # å¤§çº²ç”Ÿæˆ
â”‚   â”‚       â”‚   â”œâ”€â”€ chapter.py      # ç« èŠ‚ç”Ÿæˆ
â”‚   â”‚       â”‚   â””â”€â”€ conclusion.py   # ç»“è®ºç”Ÿæˆ
â”‚   â”‚       â””â”€â”€ ...                 # æ—§ç‰ˆæç¤ºè¯(å‘åå…¼å®¹)
â”‚   â”‚
â”‚   â”œâ”€â”€ infrastructure/             # åŸºç¡€è®¾æ–½å±‚
â”‚   â”‚   â”œâ”€â”€ ai/                     # AI æ¨¡å‹å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ html/                   # [NEW] HTMLè½¬Markdownå¼•æ“
â”‚   â”‚   â”‚   â”œâ”€â”€ converter.py        # è½¬æ¢ä¸»å…¥å£
â”‚   â”‚   â”‚   â””â”€â”€ preprocessor.py     # HTMLæ¸…æ´—ä¸SVGå¤„ç†
â”‚   â”‚   â”œâ”€â”€ media/                  # [NEW] åª’ä½“å¤„ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ screenshot_generator.py # Playwrightæˆªå›¾å¼•æ“
â”‚   â”‚   â”‚   â””â”€â”€ youtube_downloader.py
â”‚   â”‚
â”‚   â””â”€â”€ services/                   # æœåŠ¡å±‚ - ä¸šåŠ¡æœåŠ¡
â”‚
â”œâ”€â”€ web/                            # å‰ç«¯ä»£ç  (å…æ„å»º Vue 3)
```

### æ¨¡å‹å¯è§‚æµ‹æ€§

ç³»ç»Ÿå†…ç½®äº†è¯¦ç»†çš„æ¨¡å‹äº¤äº’æ—¥å¿—è®°å½•åŠŸèƒ½ï¼Œä½äº `logs/model/` ç›®å½•ä¸‹ã€‚

- **Promptè®°å½•**ï¼šè®°å½•å‘é€ç»™æ¨¡å‹çš„æ‰€æœ‰æç¤ºè¯
- **Responseè®°å½•**ï¼šè®°å½•æ¨¡å‹çš„åŸå§‹å“åº”
- **Tokenç»Ÿè®¡**ï¼šè®°å½•æ¶ˆè€—çš„ Input/Output Token æ•°é‡

å¯ä»¥é€šè¿‡ `.env` ä¸­çš„ `MODEL_OBSERVABILITY_*` å˜é‡è¿›è¡Œé…ç½®ã€‚

## ğŸš¢ éƒ¨ç½²è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

ä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼š

```bash
./redeploy.sh
```

### æ€§èƒ½ä¼˜åŒ–

- **æˆªå›¾ä¼˜åŒ–**ï¼šç³»ç»Ÿé»˜è®¤ä½¿ç”¨ GPU åŠ é€Ÿå’Œ 2x ç¼©æ”¾è¿›è¡Œæˆªå›¾ã€‚åœ¨æ—  GPU çš„æœåŠ¡å™¨ä¸Šï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ `VISUAL_SCREENSHOT_BROWSER_TIMEOUT`ã€‚
- **å¹¶å‘æ§åˆ¶**ï¼šé€šè¿‡ `MAX_CONCURRENT_ANALYSIS_TASKS` æ§åˆ¶åŒæ—¶åˆ†æçš„ä»»åŠ¡æ•°ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯

---

<div align="center">
  <sub>Built with â¤ï¸ for the cloud architecture community</sub>
</div>
