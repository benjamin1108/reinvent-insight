# Reinvent Insight - YouTubeè§†é¢‘æ·±åº¦åˆ†æå¹³å°

<div align="center">

[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.111.0+-green.svg)](https://fastapi.tiangolo.com/)
[![Vue.js](https://img.shields.io/badge/Vue.js-3.0+-brightgreen.svg)](https://vuejs.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![GitHub](https://img.shields.io/badge/GitHub-benjamin1108%2Freinvent--insight-blue.svg)](https://github.com/benjamin1108/reinvent-insight)

**ğŸš€ åŸºäº AI çš„ YouTube è§†é¢‘æ·±åº¦åˆ†æå¹³å°**

å°†é•¿ç¯‡æŠ€æœ¯æ¼”è®²è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ·±åº¦ç¬”è®°ï¼Œè®©çŸ¥è¯†è·å–æ•ˆç‡æå‡ 10 å€

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æ¶æ„è®¾è®¡](#-æ¶æ„è®¾è®¡) â€¢ [APIæ–‡æ¡£](#-api-æ–‡æ¡£) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—) â€¢ [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)

</div>

---

## ğŸ“– ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [APIæ–‡æ¡£](#-api-æ–‡æ¡£)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [éƒ¨ç½²è¯´æ˜](#-éƒ¨ç½²è¯´æ˜)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

## é¡¹ç›®ç®€ä»‹

**Reinvent Insight** æ˜¯ä¸€ä¸ªåˆ›æ–°çš„ AI é©±åŠ¨å¹³å°ï¼Œä¸“é—¨ç”¨äºåˆ†æ YouTube æŠ€æœ¯è§†é¢‘ï¼ˆç‰¹åˆ«æ˜¯ AWS re:Invent æ¼”è®²ï¼‰å¹¶ç”Ÿæˆå¯æ›¿ä»£è§‚çœ‹çš„æ·±åº¦ç¬”è®°ã€‚é€šè¿‡å…ˆè¿›çš„è¯­è¨€æ¨¡å‹å’Œç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯å·¥ç¨‹ï¼Œå¹³å°èƒ½å¤Ÿï¼š

- ğŸ¯ **æ™ºèƒ½æå–**ï¼šè‡ªåŠ¨ä¸‹è½½å­—å¹•å¹¶æ¸…æ´—ä¼˜åŒ–ï¼Œå‡å°‘ 80%+ å†—ä½™ä¿¡æ¯
- ğŸ§  **æ·±åº¦åˆ†æ**ï¼šä½¿ç”¨ Gemini 2.5 Pro ç”Ÿæˆç»“æ„åŒ–çš„é•¿æ–‡ç¬”è®°
- ğŸ“Š **å¹¶è¡Œå¤„ç†**ï¼šå¼‚æ­¥æ¶æ„æ”¯æŒæ‰¹é‡è§†é¢‘åˆ†æå’Œå®æ—¶è¿›åº¦åé¦ˆ
- ğŸ¨ **ä¼˜é›…å±•ç¤º**ï¼šç§‘æŠ€æ„Ÿ UI è®¾è®¡ï¼Œæ”¯æŒ Markdown æ¸²æŸ“å’Œ PDF å¯¼å‡º

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ™ºèƒ½åˆ†æèƒ½åŠ›
- **å¤šå±‚æ¬¡å†…å®¹ç”Ÿæˆ**ï¼šæ ‡é¢˜ â†’ å¤§çº² â†’ ç« èŠ‚å†…å®¹ â†’ æ´è§æ€»ç»“ â†’ é‡‘å¥æç‚¼
- **Token ä¼˜åŒ–ç®—æ³•**ï¼šæ™ºèƒ½æ¸…æ´—å­—å¹•ï¼Œå¤§å¹…é™ä½ API è°ƒç”¨æˆæœ¬
- **å¹¶è¡Œç« èŠ‚ç”Ÿæˆ**ï¼š10-20 ä¸ªç« èŠ‚åŒæ—¶ç”Ÿæˆï¼Œæ•ˆç‡æå‡ 5-10 å€
- **ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ**ï¼šåŒä¸€è§†é¢‘æ”¯æŒå¤šæ¬¡åˆ†æï¼Œä¾¿äºå¯¹æ¯”è¿­ä»£

### ğŸš€ å¤šç«¯äº¤äº’ä½“éªŒ
- **CLI å·¥å…·**ï¼šæ”¯æŒäº¤äº’å¼èœå•ã€æ‰¹é‡å¤„ç†ã€å‘½ä»¤è¡Œå‚æ•°
- **Web ç•Œé¢**ï¼šVue.js 3 æ„å»ºçš„ç°ä»£åŒ– SPAï¼Œå“åº”å¼è®¾è®¡
- **API æœåŠ¡**ï¼šRESTful API + WebSocket å®æ—¶é€šä¿¡
- **åˆ†äº«ç³»ç»Ÿ**ï¼šçŸ­é“¾æ¥ç”Ÿæˆï¼Œæ— éœ€ç™»å½•å³å¯æŸ¥çœ‹åˆ†äº«å†…å®¹

### ğŸ”§ ä¼ä¸šçº§ç‰¹æ€§
- **å¼‚æ­¥ä»»åŠ¡æ¶æ„**ï¼šåŸºäº asyncio çš„é«˜æ€§èƒ½ä»»åŠ¡å¤„ç†
- **å®æ—¶è¿›åº¦æ¨é€**ï¼šWebSocket åŒå‘é€šä¿¡ï¼Œæ¯«ç§’çº§çŠ¶æ€æ›´æ–°
- **é”™è¯¯æ¢å¤æœºåˆ¶**ï¼šæ™ºèƒ½é‡è¯•ã€æ–­ç‚¹ç»­ä¼ ã€ä¼˜é›…é™çº§
- **å¯æ‰©å±•è®¾è®¡**ï¼šæ¨¡å—åŒ–æ¶æ„ï¼Œæ˜“äºæ·»åŠ æ–°çš„ AI æ¨¡å‹å’ŒåŠŸèƒ½

### ğŸ’ å‰ç«¯ä½“éªŒä¸æ¶æ„
- **æ¨¡å—åŒ–ç»„ä»¶ç³»ç»Ÿ**: é‡‡ç”¨è‡ªå®šä¹‰çš„ã€å…æ„å»ºçš„Vue 3ç»„ä»¶åŒ–æ–¹æ¡ˆï¼Œå®ç°äº†UIçš„å¿«é€Ÿå¼€å‘ä¸ç»´æŠ¤ã€‚
- **ä¸°å¯Œçš„ç»„ä»¶åº“**: åŒ…å«`TechButton`ã€`Toast`ã€`ProgressBar`ç­‰ä¸€ç³»åˆ—å¯å¤ç”¨ã€å¯å®šåˆ¶ä¸»é¢˜çš„å…±äº«ç»„ä»¶ã€‚
- **åŠ¨æ€å¼‚æ­¥åŠ è½½**: ç»„ä»¶çš„HTML, CSS, JSè¢«å¼‚æ­¥åŠ è½½ï¼Œæ˜¾è‘—æå‡äº†é¦–å±æ€§èƒ½ã€‚
- **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡ï¼Œç¡®ä¿åœ¨æ‰€æœ‰ç»ˆç«¯ä¸Šéƒ½æœ‰ä¸€è‡´çš„ä¼˜è´¨ä½“éªŒã€‚

## ğŸ— ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚"
        A[Vue.js SPA] --> B[WebSocket Client]
        A --> C[Axios HTTP Client]
    end
    
    subgraph "APIå±‚"
        D[FastAPI Server] --> E[REST Endpoints]
        D --> F[WebSocket Handler]
        D --> G[Static File Server]
    end
    
    subgraph "ä¸šåŠ¡é€»è¾‘å±‚"
        H[Task Manager] --> I[Async Worker]
        I --> J[Downloader Module]
        I --> K[AI Workflow Engine]
    end
    
    subgraph "AIå¤„ç†å±‚"
        K --> L[Outline Generator]
        K --> M[Chapter Generator]
        K --> N[Conclusion Generator]
        K --> O[Report Assembler]
    end
    
    subgraph "å¤–éƒ¨æœåŠ¡"
        J --> P[YouTube/yt-dlp]
        L --> Q[Gemini API]
        M --> Q
        N --> Q
    end
    
    subgraph "å­˜å‚¨å±‚"
        O --> R[File System]
        R --> S[Subtitles]
        R --> T[Summaries]
        R --> U[Tasks Cache]
    end
    
    B -.-> F
    C --> E
    E --> H
    F --> H
```

### å‰ç«¯æ¶æ„
é¡¹ç›®å‰ç«¯é‡‡ç”¨äº†ä¸€ç§åˆ›æ–°çš„ **"å…æ„å»º" Vue 3 æ¶æ„**ï¼Œæ—¨åœ¨ç®€åŒ–å¼€å‘æµç¨‹å¹¶æœ€å¤§åŒ–æ€§èƒ½ã€‚

- **æ ¸å¿ƒåŠ è½½å™¨**: `component-loader.js` æ˜¯æ¶æ„çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£åŠ¨æ€ã€å¼‚æ­¥åœ°è·å–å’Œæ¸²æŸ“ç»„ä»¶ã€‚å½“éœ€è¦ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œå®ƒä¼šå¹¶è¡Œè¯·æ±‚è¯¥ç»„ä»¶çš„ `.html`, `.css`, å’Œ `.js` æ–‡ä»¶ã€‚
- **ç»„ä»¶åŒ–**: æ‰€æœ‰UIå…ƒç´ éƒ½è¢«æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ç»„ä»¶ï¼ˆä½äº `web/components/`ï¼‰ï¼Œæ¯ä¸ªç»„ä»¶éƒ½å°è£…äº†è‡ªå·±çš„è§†å›¾(HTML)ã€æ ·å¼(CSS)å’Œé€»è¾‘(JS)ã€‚è¿™ç§æ–¹å¼ä½¿å¾—ç»„ä»¶é«˜åº¦å†…èšå’Œå¯å¤ç”¨ã€‚
- **å…¨å±€é€šä¿¡**: ä½¿ç”¨ `event-bus.js` å®ç°äº†ä¸€ä¸ªè½»é‡çº§çš„å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œç”¨äºå¤„ç†è·¨ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œè§£è€¦äº†ç»„ä»¶é—´çš„ç›´æ¥ä¾èµ–ã€‚
- **åŸç”ŸæŠ€æœ¯æ ˆ**: è¯¥æ¶æ„ä¸ä¾èµ–äºNode.jsã€Webpackæˆ–Viteç­‰é‡å‹å·¥å…·é“¾ï¼Œç›´æ¥ä½¿ç”¨æµè§ˆå™¨åŸç”Ÿæ”¯æŒçš„ESæ¨¡å—ã€Fetch APIç­‰æŠ€æœ¯ï¼Œå›å½’äº†Webå¼€å‘çš„æœ¬è´¨ã€‚

```mermaid
graph TD
    subgraph "æµè§ˆå™¨"
        A[index.html] --> B(app.js)
        B --> C{init-modules.js}
        C --> D(ComponentLoader)
        C --> E(EventBus)
    end

    subgraph "ç»„ä»¶åŠ è½½æµç¨‹"
        D -- "è¯·æ±‚ 'AppHeader'" --> F{åŠ è½½ç»„ä»¶èµ„æº}
        F --> G[AppHeader.html]
        F --> H[AppHeader.css]
        F --> I[AppHeader.js]
    end
    
    subgraph "åŠ¨æ€æ³¨å…¥"
       G -- "HTML" --> J[DOM]
       H -- "CSS" --> K["<style> tag"]
       I -- "JS (ES Module)" --> L[Vue Component]
    end

    E -.-> L
    
    subgraph "å…¨å±€æš´éœ²"
       D --> M[window.ComponentLoader]
       E --> N[window.eventBus]
    end
```

### æ ¸å¿ƒå·¥ä½œæµ

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant W as Webç•Œé¢
    participant A as APIæœåŠ¡
    participant T as TaskManager
    participant D as Downloader
    participant AI as AI Workflow
    participant G as Gemini API

    U->>W: è¾“å…¥YouTubeé“¾æ¥
    W->>A: POST /summarize
    A->>T: åˆ›å»ºä»»åŠ¡
    T-->>W: è¿”å› task_id
    W->>A: WebSocket /ws/{task_id}
    
    T->>D: ä¸‹è½½å­—å¹•
    D->>D: yt-dlp è·å–è§†é¢‘ä¿¡æ¯
    D-->>T: å­—å¹•æ–‡æœ¬ + å…ƒæ•°æ®
    
    T->>AI: å¯åŠ¨AIå·¥ä½œæµ
    
    par å¹¶è¡Œå¤„ç†
        AI->>G: ç”Ÿæˆå¤§çº²
        G-->>AI: å¤§çº²å†…å®¹
    and
        Note over AI: ç­‰å¾…å¤§çº²å®Œæˆ
    end
    
    AI-->>W: è¿›åº¦æ›´æ–° 25%
    
    par å¹¶è¡Œç”Ÿæˆç« èŠ‚
        loop æ¯ä¸ªç« èŠ‚
            AI->>G: ç”Ÿæˆç« èŠ‚å†…å®¹
            G-->>AI: ç« èŠ‚æ–‡æœ¬
        end
    end
    
    AI-->>W: è¿›åº¦æ›´æ–° 75%
    
    AI->>G: ç”Ÿæˆç»“è®ºéƒ¨åˆ†
    G-->>AI: å¼•è¨€+æ´è§+é‡‘å¥
    
    AI->>AI: ç»„è£…æœ€ç»ˆæŠ¥å‘Š
    AI-->>T: å®ŒæˆçŠ¶æ€ + æ–‡ä»¶è·¯å¾„
    T-->>W: æ¨é€æœ€ç»ˆç»“æœ
    W-->>U: æ˜¾ç¤ºå®Œæ•´ç¬”è®°
```

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Python | 3.9+ | ä¸»è¦å¼€å‘è¯­è¨€ |
| FastAPI | 0.111.0+ | é«˜æ€§èƒ½ Web æ¡†æ¶ |
| asyncio | - | å¼‚æ­¥å¹¶å‘å¤„ç† |
| WebSocket | - | å®æ—¶åŒå‘é€šä¿¡ |
| yt-dlp | latest | YouTube å­—å¹•ä¸‹è½½ |
| Google Generative AI | 0.5.4+ | Gemini API å®¢æˆ·ç«¯ |
| loguru | 0.7.2+ | ç»“æ„åŒ–æ—¥å¿— |
| rich | 13.7.1+ | ç»ˆç«¯ç¾åŒ–è¾“å‡º |
| questionary | 2.0.1+ | CLI äº¤äº’ç•Œé¢ |

### å‰ç«¯æŠ€æœ¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vue.js | 3.0+ | å‰ç«¯æ¡†æ¶ |
| Axios | latest | HTTP å®¢æˆ·ç«¯ |
| WebSocket | - | å®æ—¶é€šä¿¡ |
| marked.js | latest | Markdown æ¸²æŸ“ |
| highlight.js | 11.9.0 | ä»£ç é«˜äº® |

### AI æ¨¡å‹
- **ä¸»æ¨¡å‹**: Google Gemini 2.5 Pro (128K context)
- **å¤‡é€‰æ¨¡å‹**: XAI (é¢„ç•™æ¥å£), Alibaba (é¢„ç•™æ¥å£)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.9 æˆ–æ›´é«˜ç‰ˆæœ¬
- Git
- ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼ˆç”¨äºè®¿é—® YouTube å’Œ AI APIï¼‰

### 2. å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/benjamin1108/reinvent-insight.git
cd reinvent-insight

# 2. å®‰è£… uv åŒ…ç®¡ç†å™¨ï¼ˆæ¨èï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh   # macOS/Linux
# æˆ–
pip install uv                                     # ä½¿ç”¨ pip

# 3. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
uv venv                         # åˆ›å»º .venv
source .venv/bin/activate       # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ (Linux/macOS)
# .venv\Scripts\activate        # Windows

# 4. å®‰è£…ä¾èµ–
uv pip install -e .             # å®‰è£…é¡¹ç›®å’Œæ‰€æœ‰ä¾èµ–
```

### 3. é…ç½®è®¾ç½®

```bash
# 1. åˆ›å»ºé…ç½®æ–‡ä»¶
# å¦‚æœé¡¹ç›®ä¸­æœ‰ .env.exampleï¼š
cp .env.example .env

# å¦‚æœæ²¡æœ‰ .env.exampleï¼Œæ‰‹åŠ¨åˆ›å»ºï¼š
cat > .env << EOF
GEMINI_API_KEY=your-gemini-api-key-here
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-secure-password
LOG_LEVEL=INFO
PREFERRED_MODEL=Gemini
EOF

# 2. ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .env                       # æˆ–ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
```

**å¿…éœ€çš„é…ç½®é¡¹ï¼š**
```bash
# AI APIå¯†é’¥ï¼ˆè‡³å°‘é…ç½®ä¸€ä¸ªï¼‰
GEMINI_API_KEY="your-gemini-api-key"         # Google Gemini (æ¨è)
XAI_API_KEY="your-xai-api-key"               # XAI (å¯é€‰)
ALIBABA_API_KEY="your-alibaba-api-key"       # é˜¿é‡Œäº‘ (å¯é€‰)

# Webç•Œé¢è®¤è¯
ADMIN_USERNAME="admin"                        # ç®¡ç†å‘˜ç”¨æˆ·å
ADMIN_PASSWORD="your-secure-password"         # ç®¡ç†å‘˜å¯†ç 

# ç³»ç»Ÿé…ç½®
LOG_LEVEL="INFO"                             # æ—¥å¿—çº§åˆ«
PREFERRED_MODEL="Gemini"                     # é»˜è®¤AIæ¨¡å‹
```

### 4. å¿«é€Ÿä½“éªŒ

```bash
# æ–¹å¼1ï¼šCLI äº¤äº’æ¨¡å¼
reinvent-insight

# æ–¹å¼2ï¼šWeb ç•Œé¢ï¼ˆæ¨èï¼‰ - å¼€å‘ç¯å¢ƒ
./run-dev.sh  # é»˜è®¤è¿è¡Œåœ¨ http://localhost:8002

# æˆ–è€…æ‰‹åŠ¨å¯åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
python -m src.reinvent_insight.main web  # é»˜è®¤è¿è¡Œåœ¨ http://localhost:8001
```

## ğŸ“˜ ä½¿ç”¨æŒ‡å—

### CLI ä½¿ç”¨æ–¹å¼

#### 1. äº¤äº’å¼æ¨¡å¼
```bash
reinvent-insight
```
- é€šè¿‡å‹å¥½çš„èœå•é€‰æ‹©æ“ä½œ
- æ”¯æŒä¸­æ–‡æç¤ºå’Œå½©è‰²è¾“å‡º

#### 2. å‘½ä»¤è¡Œå‚æ•°æ¨¡å¼
```bash
# åˆ†æå•ä¸ªè§†é¢‘
reinvent-insight --url "https://www.youtube.com/watch?v=xxxxx"

# æ‰¹é‡å¤„ç†
reinvent-insight --file video_list.txt --concurrency 3

# å¯åŠ¨ Web æœåŠ¡
reinvent-insight web --host 0.0.0.0 --port 8001 --reload

# é‡æ–°ç»„è£…æŠ¥å‘Š
reinvent-insight reassemble <task_id>
```

### Web ç•Œé¢ä½¿ç”¨

1. **è®¿é—®ä¸»é¡µ**: 
   - å¼€å‘ç¯å¢ƒ: http://localhost:8002 (ä½¿ç”¨ `./run-dev.sh`)
   - ç”Ÿäº§ç¯å¢ƒ: http://localhost:8001 (ä½¿ç”¨ `reinvent-insight web`)
2. **ç™»å½•ç³»ç»Ÿ**: ä½¿ç”¨é…ç½®çš„ç”¨æˆ·åå¯†ç 
3. **åˆ›å»ºåˆ†æ**:
   - ç‚¹å‡»"åˆ›å»ºæ·±åº¦è§£è¯»"
   - ç²˜è´´ YouTube é“¾æ¥
   - ç‚¹å‡»"å¼€å§‹åˆ†æ"
   - å®æ—¶æŸ¥çœ‹å¤„ç†è¿›åº¦
4. **æµè§ˆç¬”è®°**:
   - ç‚¹å‡»"æµè§ˆç¬”è®°åº“"
   - æ”¯æŒæŒ‰çº§åˆ«ã€å¹´ä»½ç­›é€‰
   - ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…
5. **åˆ†äº«ç¬”è®°**:
   - åœ¨é˜…è¯»ç•Œé¢ç‚¹å‡»åˆ†äº«æŒ‰é’®
   - å¤åˆ¶çŸ­é“¾æ¥å‘é€ç»™ä»–äºº

### æ‰¹é‡å¤„ç†æŒ‡å—

åˆ›å»º `urls.txt` æ–‡ä»¶ï¼š
```
https://www.youtube.com/watch?v=video1
https://www.youtube.com/watch?v=video2
https://www.youtube.com/watch?v=video3
```

æ‰§è¡Œæ‰¹é‡å¤„ç†ï¼š
```bash
reinvent-insight --file urls.txt --concurrency 5
```

## ğŸ“š API æ–‡æ¡£

### è®¤è¯

æ‰€æœ‰éœ€è¦è®¤è¯çš„æ¥å£éƒ½éœ€è¦åœ¨ Header ä¸­æºå¸¦ Bearer Tokenï¼š
```
Authorization: Bearer <your-token>
```

### æ ¸å¿ƒæ¥å£

#### 1. ç”¨æˆ·ç™»å½•
```http
POST /login
Content-Type: application/json

{
  "username": "admin",
  "password": "your-password"
}

Response:
{
  "token": "your-bearer-token"
}
```

#### 2. è·å–ç¯å¢ƒä¿¡æ¯
```http
GET /api/env

Response:
{
  "environment": "development",
  "project_root": "/home/user/reinvent-insight",
  "host": "localhost",
  "port": "8001",
  "version": "0.1.0",
  "is_development": true
}
```

#### 3. åˆ›å»ºæ‘˜è¦ä»»åŠ¡
```http
POST /summarize
Authorization: Bearer <token>
Content-Type: application/json

{
  "url": "https://www.youtube.com/watch?v=xxxxx",
  "task_id": null  // å¯é€‰ï¼Œç”¨äºé‡è¿
}

Response:
{
  "task_id": "uuid-string",
  "message": "ä»»åŠ¡å·²åˆ›å»ºï¼Œè¯·è¿æ¥ WebSocketã€‚",
  "status": "created"
}
```

#### 4. WebSocket è¿æ¥
```javascript
const ws = new WebSocket(`ws://localhost:8002/ws/${taskId}`);  // å¼€å‘ç¯å¢ƒ
// const ws = new WebSocket(`ws://localhost:8001/ws/${taskId}`);  // ç”Ÿäº§ç¯å¢ƒ

// æ¥æ”¶çš„æ¶ˆæ¯ç±»å‹
{
  "type": "log",      // æ—¥å¿—æ¶ˆæ¯
  "message": "æ­£åœ¨ä¸‹è½½å­—å¹•..."
}

{
  "type": "progress", // è¿›åº¦æ›´æ–°
  "progress": 50,
  "message": "æ­£åœ¨ç”Ÿæˆç« èŠ‚å†…å®¹..."
}

{
  "type": "result",   // æœ€ç»ˆç»“æœ
  "title": "æ·±åº¦è§£æ...",
  "summary": "# å®Œæ•´çš„Markdownå†…å®¹..."
}

{
  "type": "error",    // é”™è¯¯ä¿¡æ¯
  "message": "å¤„ç†å¤±è´¥ï¼š..."
}
```

#### 5. è·å–æ‘˜è¦åˆ—è¡¨
```http
GET /api/public/summaries

Response:
{
  "summaries": [
    {
      "filename": "AWS reInvent 2024 - Dive into the depths of routing on AWS (NET318).md",
      "title_cn": "æ·±å…¥è§£æAWSè·¯ç”±ï¼šåŸç†ã€å®è·µä¸æ–°åŠŸèƒ½ (NET318)",
      "title_en": "AWS re:Invent 2024 - Dive into the depths of routing on AWS (NET318)",
      "size": 132048,
      "word_count": 16502,
      "created_at": 1721286000,
      "modified_at": 1721286500,
      "upload_date": "2024-07-18",
      "video_url": "https://www.youtube.com/watch?v=example",
      "is_reinvent": true,
      "course_code": "NET318",
      "level": "300",
      "hash": "d4e5f6a1",
      "version": 1
    }
  ]
}
```

#### 6. è·å–æ‘˜è¦å†…å®¹
```http
GET /api/public/summaries/{filename}
GET /api/public/doc/{hash}  // çŸ­é“¾æ¥æ–¹å¼
GET /api/public/doc/{hash}/{version}  // æŒ‡å®šç‰ˆæœ¬

Response:
{
  "filename": "AWS reInvent 2024 - Dive into the depths of routing on AWS (NET318).md",
  "title": "æ·±å…¥è§£æAWSè·¯ç”±ï¼šåŸç†ã€å®è·µä¸æ–°åŠŸèƒ½ (NET318)",  // å‘åå…¼å®¹
  "title_cn": "æ·±å…¥è§£æAWSè·¯ç”±ï¼šåŸç†ã€å®è·µä¸æ–°åŠŸèƒ½ (NET318)",
  "title_en": "AWS re:Invent 2024 - Dive into the depths of routing on AWS (NET318)",
  "content": "å®Œæ•´çš„Markdownå†…å®¹",
  "video_url": "https://...",
  "versions": [
    {
        "filename": "AWS reInvent 2024 - Dive into the depths of routing on AWS (NET318)_v1.md",
        "version": 1,
        "created_at": 1721286000
    },
    {
        "filename": "AWS reInvent 2024 - Dive into the depths of routing on AWS (NET318).md",
        "version": 0,
        "created_at": 1721280000
    }
  ]
}
```

#### 7. ä¸‹è½½ PDF
```http
GET /api/public/summaries/{filename}/pdf

Response: PDFæ–‡ä»¶æµ
```

#### 8. è·å–æ‘˜è¦åˆ—è¡¨ï¼ˆéœ€è®¤è¯ï¼‰
```http
GET /summaries
Authorization: Bearer <token>

Response: åŒ /api/public/summaries
```

#### 9. è·å–æ‘˜è¦å†…å®¹ï¼ˆéœ€è®¤è¯ï¼‰
```http
GET /summaries/{filename}
Authorization: Bearer <token>

Response: åŒ /api/public/summaries/{filename}
```

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
reinvent-insight/
â”œâ”€â”€ src/reinvent_insight/      # æ ¸å¿ƒåç«¯ä»£ç  (Python)
â”‚   â”œâ”€â”€ api.py                  # FastAPI æœåŠ¡ä¸æ¥å£
â”‚   â”œâ”€â”€ config.py               # åº”ç”¨é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ downloader.py           # å­—å¹•ä¸‹è½½
â”‚   â”œâ”€â”€ __init__.py             # åŒ…åˆå§‹åŒ–
â”‚   â”œâ”€â”€ logger.py               # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ main.py                 # CLI å…¥å£ä¸ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ markdown_processor.py   # Markdownå¤„ç†
â”‚   â”œâ”€â”€ pdf_generator.py        # PDFç”Ÿæˆ
â”‚   â”œâ”€â”€ prompts.py              # æç¤ºè¯æ¨¡æ¿
â”‚   â”œâ”€â”€ summarizer.py           # AIæ‘˜è¦å™¨
â”‚   â”œâ”€â”€ task_manager.py         # ä»»åŠ¡ç®¡ç†
â”‚   â”œâ”€â”€ worker.py               # å¼‚æ­¥å·¥ä½œå™¨
â”‚   â””â”€â”€ workflow.py             # æ ¸å¿ƒAIå·¥ä½œæµå¼•æ“
â”‚   â””â”€â”€ tools/                  # è¾…åŠ©å·¥å…·è„šæœ¬
â”‚       â”œâ”€â”€ __init__.py         # åŒ…åˆå§‹åŒ–
â”‚       â”œâ”€â”€ generate_pdfs.py    # PDFç”Ÿæˆè„šæœ¬
â”‚       â”œâ”€â”€ update_level.py     # çº§åˆ«æ›´æ–°è„šæœ¬
â”‚       â””â”€â”€ update_metadata.py  # å…ƒæ•°æ®æ›´æ–°è„šæœ¬
â”œâ”€â”€ web/                        # æ ¸å¿ƒå‰ç«¯ä»£ç  (Vanilla JS + Vue 3)
â”‚   â”œâ”€â”€ index.html              # åº”ç”¨ä¸»å…¥å£HTML
â”‚   â”œâ”€â”€ components/             # å¯å¤ç”¨çš„UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/             # é¡µé¢çº§é€šç”¨ç»„ä»¶ (AppHeader, Toast)
â”‚   â”‚   â”œâ”€â”€ shared/             # è·¨é¡¹ç›®é€šç”¨ç»„ä»¶ (TechButton, ProgressBar)
â”‚   â”‚   â””â”€â”€ views/              # åº”ç”¨è§†å›¾çº§ç»„ä»¶ (CreateView, LibraryView)
â”‚   â”œâ”€â”€ css/                    # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ js/                     # JavaScript æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒæ¨¡å— (ComponentLoader, EventBus)
â”‚   â”‚   â””â”€â”€ vendor/             # ç¬¬ä¸‰æ–¹åº“ (Vue, Axios)
â”‚   â””â”€â”€ test/                   # ç»„ä»¶ç‹¬ç«‹æµ‹è¯•é¡µé¢
â”œâ”€â”€ prompt/                     # AI æç¤ºè¯æ¨¡æ¿
â”œâ”€â”€ downloads/                  # æ•°æ®å­˜å‚¨ (å­—å¹•, æ‘˜è¦, ä»»åŠ¡ç¼“å­˜)
â”œâ”€â”€ pyproject.toml              # é¡¹ç›®é…ç½®ä¸ä¾èµ– (uv)
â””â”€â”€ .env                        # ç¯å¢ƒå˜é‡
```

### æ·»åŠ æ–°çš„ AI æ¨¡å‹

1. åœ¨ `summarizer.py` ä¸­åˆ›å»ºæ–°çš„æ‘˜è¦å™¨ç±»ï¼š
```python
class NewModelSummarizer(Summarizer):
    async def generate_content(self, prompt: str, is_json: bool = False) -> str | None:
        # å®ç°ä½ çš„æ¨¡å‹è°ƒç”¨é€»è¾‘
        pass
```

2. åœ¨ `MODEL_MAP` ä¸­æ³¨å†Œï¼š
```python
MODEL_MAP = {
    "NewModel": (NewModelSummarizer, config.NEWMODEL_API_KEY),
}
```

3. åœ¨ `config.py` ä¸­æ·»åŠ é…ç½®ï¼š
```python
NEWMODEL_API_KEY = os.getenv("NEWMODEL_API_KEY")
```

### è‡ªå®šä¹‰æç¤ºè¯

ç¼–è¾‘ `prompt/youtbe-deep-summary.txt` æ–‡ä»¶ï¼Œå¯ä»¥è°ƒæ•´ï¼š
- AI è§’è‰²è®¾å®š
- è¾“å‡ºæ ¼å¼è¦æ±‚
- å†…å®¹ç»“æ„å®šä¹‰
- å†™ä½œé£æ ¼æŒ‡å¯¼

### è°ƒè¯•æŠ€å·§

1. **å¯ç”¨è°ƒè¯•æ—¥å¿—**:
```bash
LOG_LEVEL=DEBUG reinvent-insight
```

2. **æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…**:
```bash
ls -la downloads/tasks/<task_id>/
```

3. **æ‰‹åŠ¨æµ‹è¯• API**:
```bash
curl -X POST http://localhost:8001/login \
  -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"password"}'
```

## ğŸš¢ éƒ¨ç½²è¯´æ˜

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

ä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬è¿›è¡Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼š

```bash
# ä½¿ç”¨éƒ¨ç½²è„šæœ¬
./redeploy.sh

# å¸¦é€‰é¡¹çš„éƒ¨ç½²
./redeploy.sh --port 8080 --host 0.0.0.0
```

è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜è¯·å‚è€ƒ [éƒ¨ç½²è„šæœ¬è¯¦è§£](./docs/DEPLOY_SCRIPTS.md)ã€‚

### ç”Ÿäº§ç¯å¢ƒé…ç½®

1. **ä½¿ç”¨ç¯å¢ƒå˜é‡**:
```bash
export GEMINI_API_KEY="your-production-key"
export ADMIN_PASSWORD="strong-password-here"
export LOG_LEVEL="WARNING"
```

2. **ä½¿ç”¨ Nginx åå‘ä»£ç†**:
```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://localhost:8001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

3. **ä½¿ç”¨ Supervisor ç®¡ç†è¿›ç¨‹**:
```ini
[program:reinvent_insight_web]
command=/app/.venv/bin/python -m src.reinvent_insight.main web --host 0.0.0.0 --port 8001
directory=/app/
autostart=true
autorestart=true
stderr_logfile=/var/log/reinvent_insight_web.err.log
stdout_logfile=/var/log/reinvent_insight_web.out.log
user=your_user
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **API å¹¶å‘é™åˆ¶**: åœ¨ `config.py` ä¸­è°ƒæ•´ `CHAPTER_GENERATION_DELAY_SECONDS`
2. **ç¼“å­˜ç­–ç•¥**: åˆ©ç”¨ `downloads/tasks/` ç›®å½•ç¼“å­˜ä¸­é—´ç»“æœ
3. **è¿›ç¨‹ç®¡ç†**: ä½¿ç”¨ systemd æˆ– supervisor ç®¡ç†æœåŠ¡è¿›ç¨‹
4. **å¹¶å‘æ§åˆ¶**: åˆç†è®¾ç½®æ‰¹é‡å¤„ç†çš„å¹¶å‘æ•°

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯

---

<div align="center">
  <sub>Built with â¤ï¸ for the cloud architecture community</sub>
</div>